webpackJsonp([9],{"+BTi":function(e,n){},"+Rdb":function(e,n){},"/bpg":function(e,n){},GXEp:function(e,n){},Mf0D:function(e,n){},NHnr:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o("Dd8w"),r=o.n(t),i=o("7+uW"),a=(o("uMhA"),{render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]});var u=o("VU/8")({name:"App"},a,!1,function(e){o("h6nU")},null,null).exports,s=o("/ocq");i.default.use(s.a);var c=new s.a({linkActiveClass:"selColor",linkExactActiveClass:"selColor",routes:[{path:"/login",name:"Login",component:function(e){return o.e(1).then(function(){return e(o("T+/8"))}.bind(null,o)).catch(o.oe)}}]}),l=function(e){return o.e(0).then(function(){return e(o("6f/g"))}.bind(null,o)).catch(o.oe)},f=function(e){return o.e(3).then(function(){return e(o("xCHB"))}.bind(null,o)).catch(o.oe)},d=function(e){return o.e(4).then(function(){return e(o("VOzs"))}.bind(null,o)).catch(o.oe)},m=function(e){return o.e(5).then(function(){return e(o("/Btw"))}.bind(null,o)).catch(o.oe)},w=function(){return[{path:"/",component:l,redirect:"/overview",children:[{path:"/overview",name:"overview",label:"概览",icon:"el-icon-menu",component:f,meta:{role:["admin","overview","flow","sale"]}},{path:"/flow",name:"flow",label:"流量",icon:"el-icon-document",component:d,meta:{role:["admin","flow"]}},{path:"/sale",name:"sale",label:"销售",icon:"el-icon-setting",component:m,meta:{role:["admin","sale"]}}]}]},p=[{path:"/error403",name:"error403",component:function(e){return o.e(7).then(function(){return e(o("uoMu"))}.bind(null,o)).catch(o.oe)}},{path:"/error404",name:"error404",component:function(e){return o.e(6).then(function(){return e(o("49bE"))}.bind(null,o)).catch(o.oe)}},{path:"/error500",name:"error500",component:function(e){return o.e(2).then(function(){return e(o("harn"))}.bind(null,o)).catch(o.oe)}},{path:"*",redirect:"/Error404"}],h=o("NYxO"),v=o("//Fk"),E=o.n(v),b=[{id:1,username:"admin",password:"123456",role:"admin",describe:"可以看到所有的页面[overview, flow, sale]"},{id:2,username:"overview",password:"123456",role:"overview",describe:"可以看到overview页面"},{id:3,username:"flow",password:"123456",role:"flow",describe:"可以看到overview,flow页面"},{id:3,username:"sale",password:"123456",role:"sale",describe:"可以看到overview,sale页面"}],g={state:{username:window.sessionStorage.getItem("username"),role:window.sessionStorage.getItem("role"),describe:window.sessionStorage.getItem("describe"),newRouter:[]},mutations:{SET_USERNAME:function(e,n){e.username=n},SET_ROLE:function(e,n){e.role=n},SET_DESCRIBE:function(e,n){e.describe=n},SET_NEWROUTER:function(e,n){e.newRouter=n}},actions:{login:function(e,n){var o=e.commit;return new E.a(function(e,t){var r=0;b.forEach(function(e){e.username===n.username&&(window.sessionStorage.setItem("username",e.username),window.sessionStorage.setItem("role",e.role),window.sessionStorage.setItem("describe",e.describe),o("SET_USERNAME",e.username),o("SET_ROLE",e.role),o("SET_DESCRIBE",e.describe),r+=1)}),r>0?e(n):t(n)})},roles:function(e,n){var o=e.commit;return new E.a(function(e){o("SET_NEWROUTER",n),e(n)})},logout:function(e){var n=e.commit;return new E.a(function(e){window.sessionStorage.removeItem("username"),window.sessionStorage.removeItem("role"),window.sessionStorage.removeItem("describe"),n("SET_USERNAME",""),n("SET_ROLE",""),n("SET_DESCRIBE",""),n("SET_NEWROUTER",[]),e()})}}};i.default.use(h.a);var S=new h.a.Store({modules:{login:g}}),R=(o("cwe7"),o("+BTi"),o("2X9z")),T=o.n(R),_=(o("V5v9"),o("D8db")),I=o.n(_),A=(o("/bpg"),o("ACGT")),M=o.n(A),O=(o("Mf0D"),o("exT9")),x=o.n(O),C=(o("bwiK"),o("SExR")),N=o.n(C),U=(o("GXEp"),o("mtrD")),D=o.n(U),B=(o("+Rdb"),o("Mezo")),k=o.n(B),X=(o("qunJ"),o("vqwl")),q=o.n(X),y=(o("X+ky"),o("HJMx")),H=o.n(y);i.default.use(H.a),i.default.use(q.a),i.default.use(k.a),i.default.use(D.a),i.default.use(N.a),i.default.use(x.a),i.default.use(M.a),i.default.use(I.a),i.default.prototype.$message=T.a,i.default.config.productionTip=!1,c.beforeEach(function(e,n,o){var t=w();if(S.state.login.role)if(0!==S.state.login.newRouter.length)o();else{var i=[];if("admin"===S.state.login.role)i=t;else{var a=[];t[0].children.forEach(function(e){e.meta?e.meta.role.indexOf(S.state.login.role)>0&&a.push(e):a.push(e)}),(i=t)[0].children=a}c.addRoutes(i.concat(p)),S.dispatch("roles",i).then(function(){o(r()({},e))})}else console.log(t),-1!==["/login"].indexOf(e.path)?o():o("/login")}),new i.default({el:"#app",router:c,store:S,components:{App:u},template:"<App/>"})},V5v9:function(e,n){},"X+ky":function(e,n){},bwiK:function(e,n){},cwe7:function(e,n){},h6nU:function(e,n){},qunJ:function(e,n){},uMhA:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.111b951ddf7e86ef263c.js.map