webpackJsonp([9],{"+BTi":function(e,n){},"+Rdb":function(e,n){},"/bpg":function(e,n){},GXEp:function(e,n){},Mf0D:function(e,n){},NHnr:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o("Dd8w"),r=o.n(t),i=o("7+uW"),a=(o("uMhA"),{render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]});var u=o("VU/8")({name:"App"},a,!1,function(e){o("h6nU")},null,null).exports,s=o("/ocq");i.default.use(s.a);var c=new s.a({linkActiveClass:"selColor",linkExactActiveClass:"selColor",routes:[{path:"/login",name:"Login",component:function(e){return o.e(1).then(function(){return e(o("T+/8"))}.bind(null,o)).catch(o.oe)}}]}),l=[{path:"/",component:function(e){return o.e(0).then(function(){return e(o("6f/g"))}.bind(null,o)).catch(o.oe)},redirect:"/overview",children:[{path:"/overview",name:"overview",label:"概览",icon:"el-icon-menu",component:function(e){return o.e(3).then(function(){return e(o("xCHB"))}.bind(null,o)).catch(o.oe)},meta:{role:["admin","overview","flow","sale"]}},{path:"/flow",name:"flow",label:"流量",icon:"el-icon-document",component:function(e){return o.e(4).then(function(){return e(o("VOzs"))}.bind(null,o)).catch(o.oe)},meta:{role:["admin","flow"]}},{path:"/sale",name:"sale",label:"销售",icon:"el-icon-setting",component:function(e){return o.e(5).then(function(){return e(o("/Btw"))}.bind(null,o)).catch(o.oe)},meta:{role:["admin","sale"]}}]}],f=[{path:"/error403",name:"error403",component:function(e){return o.e(7).then(function(){return e(o("uoMu"))}.bind(null,o)).catch(o.oe)}},{path:"/error404",name:"error404",component:function(e){return o.e(6).then(function(){return e(o("49bE"))}.bind(null,o)).catch(o.oe)}},{path:"/error500",name:"error500",component:function(e){return o.e(2).then(function(){return e(o("harn"))}.bind(null,o)).catch(o.oe)}},{path:"*",redirect:"/Error404"}],d=o("NYxO"),m=o("//Fk"),w=o.n(m),p=[{id:1,username:"admin",password:"123456",role:"admin",describe:"可以看到所有的页面[overview, flow, sale]"},{id:2,username:"overview",password:"123456",role:"overview",describe:"可以看到overview页面"},{id:3,username:"flow",password:"123456",role:"flow",describe:"可以看到overview,flow页面"},{id:3,username:"sale",password:"123456",role:"sale",describe:"可以看到overview,sale页面"}],v={state:{username:window.sessionStorage.getItem("username"),role:window.sessionStorage.getItem("role"),describe:window.sessionStorage.getItem("describe"),newRouter:[]},mutations:{SET_USERNAME:function(e,n){e.username=n},SET_ROLE:function(e,n){e.role=n},SET_DESCRIBE:function(e,n){e.describe=n},SET_NEWROUTER:function(e,n){e.newRouter=n}},actions:{login:function(e,n){var o=e.commit;return new w.a(function(e,t){var r=0;p.forEach(function(e){e.username===n.username&&(window.sessionStorage.setItem("username",e.username),window.sessionStorage.setItem("role",e.role),window.sessionStorage.setItem("describe",e.describe),o("SET_USERNAME",e.username),o("SET_ROLE",e.role),o("SET_DESCRIBE",e.describe),r+=1)}),r>0?e(n):t(n)})},roles:function(e,n){var o=e.commit;return new w.a(function(e){o("SET_NEWROUTER",n),e(n)})},logout:function(e){var n=e.commit;return new w.a(function(e){window.sessionStorage.removeItem("username"),window.sessionStorage.removeItem("role"),window.sessionStorage.removeItem("describe"),n("SET_USERNAME",""),n("SET_ROLE",""),n("SET_DESCRIBE",""),n("SET_NEWROUTER",[]),e()})}}};i.default.use(d.a);var E=new d.a.Store({modules:{login:v}}),h=(o("cwe7"),o("+BTi"),o("2X9z")),b=o.n(h),g=(o("V5v9"),o("D8db")),S=o.n(g),R=(o("/bpg"),o("ACGT")),T=o.n(R),_=(o("Mf0D"),o("exT9")),I=o.n(_),A=(o("bwiK"),o("SExR")),M=o.n(A),O=(o("GXEp"),o("mtrD")),x=o.n(O),C=(o("+Rdb"),o("Mezo")),N=o.n(C),U=(o("qunJ"),o("vqwl")),D=o.n(U),B=(o("X+ky"),o("HJMx")),k=o.n(B);i.default.use(k.a),i.default.use(D.a),i.default.use(N.a),i.default.use(x.a),i.default.use(M.a),i.default.use(I.a),i.default.use(T.a),i.default.use(S.a),i.default.prototype.$message=b.a,i.default.config.productionTip=!1,c.beforeEach(function(e,n,o){if(E.state.login.role)if(0!==E.state.login.newRouter.length)o();else{var t=void 0;if("admin"===E.state.login.role)t=l;else{var i=l[0].children.filter(function(e){return!e.meta||e.meta.role.indexOf(E.state.login.role)>0});console.log(i),(t=l)[0].children=i}c.addRoutes(t.concat(f)),E.dispatch("roles",t).then(function(){o(r()({},e))})}else-1!==["/login"].indexOf(e.path)?o():o("/login")}),new i.default({el:"#app",router:c,store:E,components:{App:u},template:"<App/>"})},V5v9:function(e,n){},"X+ky":function(e,n){},bwiK:function(e,n){},cwe7:function(e,n){},h6nU:function(e,n){},qunJ:function(e,n){},uMhA:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.3f85197a842cf34dae47.js.map